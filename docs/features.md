# 功能特性

ClassComp Score 是一个功能完善的学校机房管理评分系统。本文档详细介绍系统的核心功能和特性。

---

## ✨ V1.1.0 版本亮点

V1.1.0 是一次重大的界面和体验升级：

- **全面的移动端适配**：所有页面完全支持在手机浏览器上流畅使用
- **统一的 UI/UX 设计**：现代化、一致的视觉风格
- **增强的管理面板**：更清晰、更美观的数据图表和统计卡片
- **优化的工作流程**：改善了表格排序、搜索和分页功能

---

## 👥 多角色权限系统

系统支持三种用户角色，每种角色具有不同的权限和功能：

### 干事（信息委员）

**主要功能：**
- 登录系统进行评分操作
- 查看待评分班级列表
- 提交各班级电脑评分
- 查看个人评分历史记录

**操作界面：**
- 评分首页：显示待评分班级和当前周期信息
- 评分表单：输入分数（0-100）和备注
- 历史记录：查看自己提交的所有评分

### 教师

**主要功能：**
- 查看所管理年级的评分进度
- 查看各班级评分统计数据
- 监控评分完成情况
- 导出班级评分报告

**监控面板：**
- 今日评分进度
- 本周期评分完成率
- 年级评分趋势图表
- 班级评分对比

### 管理员

**主要功能：**
- 管理所有用户账户
- 配置学期和评分周期
- 配置参与评分的班级
- 设置评分权重
- 导出完整数据报告
- 备份和恢复数据

**管理面板：**
- 用户管理：创建、删除、重置密码
- 学期设置：配置学期、周期、班级
- 权重配置：设置各项评分权重
- 数据中心：导出 Excel、备份数据库

---

## 📊 周期性评分机制

### 评分周期

系统支持两种评分周期模式：

| 模式 | 周期长度 | 适用场景 |
|------|---------|---------|
| **双周模式** | 14 天 | 常规学期，评分频率适中 |
| **单周模式** | 7 天 | 需要密集评分的特殊时期 |

### 动态周期切换

管理员可以在学期中期灵活切换周期类型：
- 从双周切换到单周
- 从单周切换到双周
- 历史数据完整保留
- 切换时可设置生效日期

详见 [动态周期使用指南](user-guide/dynamic-period-usage.md)

### 智能评分处理

- **同周期覆盖**：同一周期内对同一班级的重复评分会智能覆盖
- **历史保留**：被覆盖的评分会保存到历史记录表
- **周期边界**：系统自动处理周期边界，确保数据一致

---

## 📈 数据可视化

### 教师监控面板

为教师提供直观的数据可视化：

- **评分总览卡片**
  - 今日评分数量
  - 本周期完成率
  - 年级平均分

- **趋势图表**
  - 近7天评分趋势
  - 周期评分分布
  - 班级对比图

- **数据表格**
  - 详细评分记录
  - 支持排序和筛选
  - 分页显示

### 管理员仪表盘

管理员可以查看全局数据：

- 系统使用统计
- 用户活跃度
- 评分完成情况
- 各年级对比分析

---

## 📦 数据管理功能

### 用户管理

- **创建用户**：批量或单个创建
- **删除用户**：安全删除（保留历史数据）
- **重置密码**：管理员可重置用户密码
- **角色分配**：设置用户角色和权限

### 学期配置

- **学期信息**：名称、开始日期、结束日期
- **周期设置**：周期类型、第一周期结束日期
- **班级配置**：添加/移除参与评分的班级
- **权重设置**：配置各评分项权重

### 数据导出

系统支持导出详细的 Excel 报告：

**报告内容：**
- 评分详情表：所有评分记录
- 历史记录表：被覆盖的评分
- 汇总矩阵：班级×周期评分矩阵
- 统计分析：平均分、最高分、最低分

**导出格式：**
- `.xlsx` 格式
- 支持多 Sheet
- 自动添加日期后缀

### 数据备份

- **SQLite**：一键下载 `.db` 文件
- **PostgreSQL**：导出 `.sql` 备份文件
- **自动备份**：可配置定时备份

---

## 📱 移动端适配

### 响应式设计

所有页面都针对移动端优化：

- **自适应布局**：自动适配不同屏幕尺寸
- **触控友好**：按钮和链接大小适合手指点击
- **简化导航**：移动端折叠菜单
- **优化表格**：移动端表格横向滚动

### 支持的功能

在移动设备上可以完成：

| 功能 | 手机支持 | 平板支持 |
|------|---------|---------|
| 登录/登出 | ✅ | ✅ |
| 提交评分 | ✅ | ✅ |
| 查看历史 | ✅ | ✅ |
| 教师监控 | ✅ | ✅ |
| 用户管理 | ✅ | ✅ |
| 学期配置 | ✅ | ✅ |
| 数据导出 | ✅ | ✅ |

---

## 🔒 安全特性

### 认证安全

- **密码哈希**：使用 Werkzeug 安全哈希存储
- **会话管理**：安全的会话 Cookie
- **登录保护**：防止暴力破解

### 数据安全

- **SQL 注入防护**：参数化查询
- **XSS 防护**：模板自动转义
- **CSRF 防护**：表单令牌验证
- **输入验证**：服务端验证所有输入

### 权限控制

- **角色隔离**：不同角色访问不同功能
- **数据隔离**：用户只能访问自己的数据
- **操作日志**：记录关键操作

---

## 🛠️ 技术架构

### 后端技术栈

- **Web 框架**：Flask 2.x
- **数据库**：SQLite（开发）/ PostgreSQL（生产）
- **WSGI 服务器**：Gunicorn / Waitress
- **数据处理**：Pandas, XlsxWriter

### 前端技术栈

- **UI 框架**：Bootstrap 5
- **JavaScript**：jQuery
- **图表库**：Chart.js
- **数据表格**：DataTables.js
- **图标**：Font Awesome

### 项目结构

```
ClassComp-Score/
├── src/classcomp/          # 主应用包
│   ├── models/             # 数据模型
│   ├── routes/             # 路由处理
│   ├── utils/              # 工具函数
│   ├── templates/          # HTML 模板
│   └── static/             # 静态资源
├── scripts/                # 工具脚本
├── config/                 # 配置文件
├── docs/                   # 文档
└── tests/                  # 测试
```

---

## 📚 相关文档

- [快速开始](quick-start.md) - 安装和首次使用
- [部署指南](deployment/) - 本地和生产环境部署
- [用户手册](user-guide/) - 各角色详细操作指南
- [开发文档](development/) - 架构和 API 文档

---

## 📝 版本历史

| 版本 | 发布日期 | 主要更新 |
|-----|---------|---------|
| v1.1.0 | 2024-01 | 移动端适配、UI 重构、动态周期 |
| v1.0.0 | 2023-12 | 初始版本发布 |

---

**功能建议？** 欢迎提交 [Feature Request](https://github.com/your-username/ClassComp-Score/issues/new?template=feature_request.md)